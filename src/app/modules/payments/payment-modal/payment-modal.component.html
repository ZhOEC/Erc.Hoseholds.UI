<nz-modal [nzTitle]="modalTitle" [nzVisible]="isVisible"
  (nzOnOk)="submitForm()" [nzOkText]="isOkLoading ? 'Відправка' : 'Відправити'"
  (nzOnCancel)="isVisible = false" (nzOnCancel)="resetForm()"
  [nzOkDisabled]="!paymentForm.valid || !paymentForm.touched"
  [nzOkLoading]="isOkLoading"
  nzWidth=690>
  <form nz-form [formGroup]="paymentForm" (ngSubmit)="submitForm()">
    <nz-form-item>
      <nz-form-label [nzSpan]="4" nzRequired>Точка обліку</nz-form-label>
      <nz-form-control [nzSpan]="19" nzErrorTip="Не введено точку обліку">
        <nz-select
          nzShowSearch
          nzServerSearch
          nzPlaceHolder="Точка обліку"
          [ngModel]="selectedAccountingPoint"
          [ngModelOptions]="{ standalone: true }"
          [nzShowArrow]="false"
          (nzOnSearch)="searchAccountingPoint($event)"
          (ngModelChange)="selectedFoundAccountingPoint($event)"
        >
          <nz-option *ngFor="let o of searchAccountingPointResults" [nzLabel]="o.text" [nzValue]="o"> </nz-option>
        </nz-select>
      </nz-form-control>
    </nz-form-item>
    <nz-form-item>
      <nz-form-label [nzSpan]="4" nzFor="payDate" nzRequired>Дата платежу</nz-form-label>
      <nz-form-control [nzSpan]="19" nzErrorTip="Не обрано дату платежу">
        <nz-date-picker [nzFormat]="'dd.MM.yyyy'" formControlName="payDate" [nzDisabledDate]="datesMoreToday"></nz-date-picker>
      </nz-form-control>
    </nz-form-item>
    <nz-form-item>
      <nz-form-label [nzSpan]="4" nzFor="amount" nzRequired>Сумма</nz-form-label>
      <nz-form-control [nzSpan]="19" nzErrorTip="Не введено суму платежу">
        <nz-input-number nz-input formControlName="amount" [nzMin]="1" [nzStep]="1"></nz-input-number>
      </nz-form-control>
    </nz-form-item>
  </form>
</nz-modal>


              <!--
                
          [nzCustomTemplate]="optionTemplate" 
                <nz-option nzCustomContent *ngFor="let person of foundPersons" [nzLabel]="person" [nzValue]="person">
                <b>ПІБ:</b> {{person.lastName}} {{person.firstName}} {{person.patronymic}} <br/>
                <b>Номер паспорта:</b> {{person.idCardNumber}} <b>Іден. номер:</b> {{person.taxCode}}
              </nz-option>
            </nz-select>
            <ng-template #personTemplate let-person>
              <span>
                {{ person.nzLabel.lastName }} {{ person.nzLabel.firstName }} {{ person.nzLabel.patronymic }}
                <b>{{ person.nzLabel.taxCode }} : {{ person.nzLabel.idCardNumber }}</b>
              </span>
            </ng-template> -->